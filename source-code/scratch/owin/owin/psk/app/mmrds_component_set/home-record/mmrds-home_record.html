<link rel="import" href="../../bower_components/polymer/polymer.html">		
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-badge/paper-badge.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<dom-module id="mmrds-home_record">
<template>  

		<paper-material elevation="1">			
			<h1>Home Record Header</h1>
			<div>Record Id: {{home_record.record_id }}</div>
			<div><paper-checkbox checked="{{home_record.is_valid_maternal_mortality_record }}">is a valid record</paper-checkbox></div>
			<div>Name: {{home_record.last_name }}, {{home_record.first_name }}</div>
		</paper-material>		 
		
		 <paper-material elevation="1">
		<h1>Key Record Information</h1>
		<paper-input label="First Name" value="{{home_record.first_name}}"></paper-input>
		<paper-input label="Middle Name" value="{{home_record.middle_name}}"></paper-input>
		<paper-input label="Last Name" value="{{home_record.last_name}}"></paper-input>
		<paper-input label="Date of Death* (YYYY-MM-DD)" value="{{home_record.date_of_death}}"></paper-input>
		<paper-checkbox checked="{{home_record.date_of_death_is_estimated}}">Date of death is estimated?</paper-checkbox>
		<paper-input label="State of Death Record" value="{{home_record.state_of_death}}"></paper-input>
		<paper-input label="State of last known residence" value="{{home_record.state_of_last_known_residence}}"></paper-input>

		<paper-input label="Agency-based case identifier" value="{{home_record.agency_case_id}}"></paper-input>
</paper-material>
			
<paper-material elevation="1">			
		<h1>Case Progress Report:</h1>
<div>
<paper-dropdown-menu label="Death certificate" selected-item-label="{{ home_record.progress_death_certificate}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
<paper-badge label="1" for="btn"></paper-badge>
</div>				
		
			
		
<div>		
<paper-dropdown-menu label="Maternal birth certificate" selected-item-label="{{ home_record.progress_maternal_birth_certificate}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
<paper-badge label="0" for="btn2"></paper-badge>
</div>				
			
<div>			
<paper-dropdown-menu label="Prenatal care record"  selected-item-label="{{ home_record.progress_prenatal_care}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
	
<div>	
<paper-dropdown-menu label="ER visit(s) and Hospitalization(s)" selected-item-label="{{ home_record.progress_er_and_hospital_visits}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
<div>			
<paper-dropdown-menu label="Informant interviews"  selected-item-label="{{ home_record.progress_informant_interviews}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				

<div>		
<paper-dropdown-menu label="Autopsy report" selected-item-label="{{ home_record.progress_autopsy_report}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
<div>			
<paper-dropdown-menu label="Infant/fetal birth certificate(s)" selected-item-label="{{ home_record.child_birth_certificate}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
<div>			
<paper-dropdown-menu label="Other medical visits"  selected-item-label="{{ home_record.progress_other_medical_visits}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
<div>			
<paper-dropdown-menu label="Social and psychological profile"  selected-item-label="{{ home_record.progress_social_and_psyc_profile}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>				
<div>			
<paper-dropdown-menu label="Committee review worksheet"  selected-item-label="{{ home_record.progress_committee_review_worksheet}}">
  <paper-listbox class="dropdown-content">
    <paper-item>not started</paper-item>
    <paper-item>in progress</paper-item>
    <paper-item>completed</paper-item>
    <paper-item>not available</paper-item>
	<paper-item>not applicable</paper-item>
  </paper-listbox>
</paper-dropdown-menu>
</div>		
</paper-material>

</template>
<script>
	Polymer
	({
        is: 'mmrds-home_record',
		properties: 
		{
			home_record: 
			{ 
				type: Object,
				notify: true
			},
			current_record_id: { 
				type: String,
				notify: true,
				observer: 'currentRecordChange'
			
			}
		},
		currentRecordChange:function() 
		{
			  var found_index = -1;
			  for(var i = 0; i < g_data.length; i++)
			  {
				if(g_data[i]._id == this.current_record_id)
				{
					found_index = i;
					break;
				}
			  }
			  
			  if(found_index > -1)
			  {
				this.home_record = g_data[found_index];
			  }
			  else if(g_data.length > 0)
			  {
				this.home_record = g_data[0];
			  }

			//console.log('currentRecordChange: ' + this.current_record_id);
			//console.log('home_record: ' + this.home_record);
		}

    });
	  
</script>
	
</dom-module>