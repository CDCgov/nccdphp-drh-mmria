<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../../bower_components/paper-radio-group/paper-radio-group.html">

<link rel="import" href="../mmrds-state-dropdown/mmrds-state-dropdown.html">
<link rel="import" href="../mmrds-address/mmrds-address.html">
<link rel="import" href="../race/mmrds-race.html">
<link rel="import" href="../cause-of-death-grid/mmrds-cause_of_death_grid.html">
<link rel="import" href="../yesno/mmrds-yesno.html">
<link rel="import" href="../demographic/mmrds-demographic.html">
<link rel="import" href="../date/mmrds-date.html">

<dom-module id="mmrds-infant_birth_certificate_detail">
<template>  
<style>
      :host {
        display: none;
      }
      :host([active]) {
        display: block;
      }
</style>

<paper-material elevation="1">			
	<h1>Infant birth/ Fetal death certificate</h1>
	<div>Mother's Record Id: [[home_record.record_id ]]</div>
	<div>Mother's Name: [[home_record.last_name ]], [[home_record.first_name ]]</div>
</paper-material>	



<paper-material elevation="1">	
	<h3>record type*</h3>
	<paper-radio-group selected="{{selected_item.record_type}}">
		<paper-radio-button name="live birth">live birth</paper-radio-button>
		<paper-radio-button name="fetal death">fetal death</paper-radio-button>
	</paper-radio-group>
<paper-checkbox checked="{{selected_item.is_multiple_gestation}}">Multiple gestation</paper-checkbox>
<paper-input label="Birth order"></paper-input>
</paper-material>		

<paper-material elevation="1">	
	<h1>Newborn ( fetus) record identification</h1>

<paper-input label="First name" value="{{selected_item.first_name}}"></paper-input>
<paper-input label="Middle name" value="{{selected_item.middle_name}}"></paper-input>
<paper-input label="Last name" value="{{selected_item.last_name}}"></paper-input>
<paper-input label="State file no." value="{{selected_item.state_file_number}}"></paper-input>
<paper-input label="Local file no." value="{{selected_item.local_file_number}}"></paper-input>
<paper-input label="Newborn medical record no." value="{{selected_item.newborn_medical_record_number}}"></paper-input>

<mmrds-date label="Date of delivery*" calculated_date_label="" bound_data="{{selected_item.date_of_delivery}}"></mmrds-date>



</paper-material>		


<paper-material elevation="1">	
<h1>Newborn (fetus) biometrics and demographics</h1>
<div>
<paper-input label="Birth weight*" value="{{bound_data.birth_weight}}"></paper-input>
<paper-dropdown-menu label="lbs or grams">
	<paper-listbox class="dropdown-content" selected-values="{{bound_data.birth_weight_unit}}" attr-for-selected="value">
		<paper-item value=""></paper-item>
		<paper-item value="lbs">lbs</paper-item>
		<paper-item value="grams">grams</paper-item>
	</paper-listbox>
</paper-dropdown-menu>	
</div>

<paper-dropdown-menu label="Gender">
	<paper-listbox class="dropdown-content" selected-values="{{bound_data.gender}}" attr-for-selected="value">
		<paper-item value=""></paper-item>
		<paper-item value=""></paper-item>
		<paper-item value=""></paper-item>
		<paper-item value=""></paper-item>
		<paper-item value="Not specified">Not specified</paper-item>
	</paper-listbox>
</paper-dropdown-menu>	
<hr/>
<paper-material elevation="3">	
APGAR scores
<paper-input label="5 minute" value="{{bound_data.apgar_5_minute}}"></paper-input>
<paper-input label="10 minute (if 5 minutes score is less than 6)" value="{{bound_data.apgar_10_minute}}"></paper-input>

</paper-material>

	<paper-dropdown-menu label="Is infant living at time of report?">
		<paper-listbox class="dropdown-content" selected-values="{{ bound_data}}" attr-for-selected="value">
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
		</paper-listbox>
	</paper-dropdown-menu>	

	<paper-dropdown-menu label="Is infant being breastfed at discharge?">
		<paper-listbox class="dropdown-content" selected-values="{{ bound_data}}" attr-for-selected="value">
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
		</paper-listbox>
	</paper-dropdown-menu>	

	<paper-dropdown-menu label="Was infant transferred within 24 hrs of delivery?">
		<paper-listbox class="dropdown-content" selected-values="{{ bound_data}}" attr-for-selected="value">
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
			<paper-item value=""></paper-item>
		</paper-listbox>
	</paper-dropdown-menu>	

Specify facility, city, and state



</paper-material>	



<paper-material elevation="1">	
<h1>Method of Delivery</h1>
	<mmrds-yesno label="A. Was delivery with forceps attempted but unsuccessful?" bound_data="{{ bound_data}}"></mmrds-yesno>

	<mmrds-yesno label="B. Was delivery with vacuum extraction attempted but unsuccessful?"  bound_data="{{ bound_data}}"></mmrds-yesno>
	<paper-dropdown-menu label="C. Fetal presentation at birth">
		<paper-listbox class="dropdown-content" selected-values="{{ bound_data}}" attr-for-selected="value">
			<paper-item value="Cephalic">Cephalic</paper-item>
			<paper-item value="Breech">Breech</paper-item>
			<paper-item value="Shoulder">Shoulder</paper-item>
			<paper-item value="Compound">Compound</paper-item>
			<paper-item value="Other">Other</paper-item>
			<paper-item value="Unknown">Unknown</paper-item>
			<paper-item value="Not specified">Not specified</paper-item>
		</paper-listbox>
	</paper-dropdown-menu>	

	<paper-dropdown-menu label="D. Final route and method of delivery*">
		<paper-listbox class="dropdown-content" selected-values="{{ bound_data}}" attr-for-selected="value">
			<paper-item value="Vaginal / Spontaneous">Vaginal / Spontaneous</paper-item>
			<paper-item value="Vaginal / Forceps">Vaginal / Forceps</paper-item>
			<paper-item value="Vaginal / Vacuum">Vaginal / Vacuum</paper-item>
			<paper-item value="Cesarean">Cesarean</paper-item>
			<paper-item value="Other">Other</paper-item>
			<paper-item value="Not specified">Not specified</paper-item>
		</paper-listbox>
	</paper-dropdown-menu>	

	<mmrds-yesno label="If Cesarean, was a trial of labor attempted?" bound_data="{{ bound_data}}"></mmrds-yesno>	

</paper-material>	


<paper-material elevation="1">	
<h1>Abnormal conditions of the newborn (check all that pply)</h1>
<paper-listbox class="dropdown-content" selected-values="{{ bound_data.abnormal_conditions}}" attr-for-selected="value" multi>
	<paper-item value="Assisted ventilation required immediately following delivery">Assisted ventilation required immediately following delivery</paper-item>
	<paper-item value="Newborn given surfactant replacement therapy">Newborn given surfactant replacement therapy</paper-item>
	<paper-item value="Seizure or serious neurologic dysfunction">Seizure or serious neurologic dysfunction</paper-item>
	<paper-item value="Assisted ventilation required for more than 6 hours">Assisted ventilation required for more than 6 hours</paper-item>
	<paper-item value="NICU admission">NICU admission</paper-item>
	<paper-item value="Antibiotics received by the newborn for suspected neonatal sepsis">Antibiotics received by the newborn for suspected neonatal sepsis</paper-item>
	<paper-item value="Significant birth injury (skeletal fracture(s), peripheral nerve injury, and/ or soft tissue/ solid organ hemorrhage which requires intervention)">Significant birth injury (skeletal fracture(s), peripheral nerve injury, and/ or soft tissue/ solid organ hemorrhage which requires intervention)</paper-item>
	<paper-item value="Abnormal conditions not specified">Abnormal conditions not specified</paper-item>
	<paper-item value="None of the above">None of the above</paper-item>
</paper-listbox>

</paper-material>	


<paper-material elevation="1">	
<h1>Congenital anomalies of the newborn or fetus (check all that apply)</h1>
<paper-listbox class="dropdown-content" selected-values="{{ bound_data.congenital_anomalies}}" attr-for-selected="value" multi>
	<paper-item value="Anencephaly">Anencephaly</paper-item>
	<paper-item value="Cyanotic congenital heart disease">Cyanotic congenital heart disease</paper-item>
	<paper-item value="Omphalocele">Omphalocele</paper-item>
	<paper-item value="Limb reduction defect (excluding congenital amputation and dwarfing syndromes)">Limb reduction defect (excluding congenital amputation and dwarfing syndromes)</paper-item>
	<paper-item value="Cleft Lip with or without Cleft Palate">Cleft Lip with or without Cleft Palate</paper-item>
	<paper-item value="Downs Syndrome">Downs Syndrome</paper-item>
	<paper-item value="Downs Syndrome - Karyotype confirmed">Downs Syndrome - Karyotype confirmed</paper-item>
	<paper-item value="Downs Syndrome - Karyotype pending">Downs Syndrome - Karyotype pending</paper-item>	
	<paper-item value="Hypospadias">Hypospadias</paper-item>
	<paper-item value="Meningomyelocele/ Spina bifida">Meningomyelocele/ Spina bifida</paper-item>
	<paper-item value="Congenital diaphragmatic hernia">Congenital diaphragmatic hernia</paper-item>
	<paper-item value="Gastroschisis">Gastroschisis</paper-item>
	<paper-item value="Cleft palate alone">Cleft palate alone</paper-item>
	<paper-item value="Suspected chromosomal disorder">Suspected chromosomal disorder</paper-item>
	<paper-item value="Suspected chromosomal disorder - Karyotype confirmed">Suspected chromosomal disorder - Karyotype confirmed</paper-item>
	<paper-item value="Suspected chromosomal disorder - Karyotype pending">Suspected chromosomal disorder - Karyotype pending</paper-item>
	<paper-item value="Congenital anomalies not specified">Congenital anomalies not specified</paper-item>
	<paper-item value="None of the above">None of the above</paper-item>
</paper-listbox>


</paper-material>	

<paper-material elevation="1">	
<h1>Causes of fetal death</h1>
<paper-input label="ICD version" value="{{bound_data.icd_version}}"></paper-input> 



<table>
<tr>
<th>Type</th>
<th>Class</th>
<th>Complication</th>
<th>subclas</th>
<th>Other (specify)</th>
<th>ICD Code</th>
</tr>
<template id="cause_of_death_grid" is="dom-repeat" items="{{causes_of_fetal_death}}">
	<tr>
		<td>		
			<paper-input label="type" value="{{item.cause_type}}"></paper-input>	
		</td>
		<td>
			<paper-input label="Class" value="{{item.class}}"></paper-input>
		</td>
		<td>
			<paper-input label="Complication" value="{{item.complication}}"></paper-input>
		</td>
		<td>
			<paper-input label="subclass" value="{{item.subclass}}"></paper-input>
		</td>
		<td>
			<paper-input label="Other (specify)" value="{{item.other_specify}}"></paper-input>
		</td>
		<td>
			<paper-input label="ICD code" value="{{item.icd_code}}"></paper-input>
		</td>
	</tr>
</template>
</table>
<paper-button id="ancodr" raised>add new grid item</paper-button>

</paper-material>	

<paper-material elevation="1">	
<h1>Reviewer's notes about this newborn or fetal death </h1>
<iron-autogrow-textarea value="{{selected_item.reviewer_note}}"></iron-autogrow-textarea>
</paper-material>	

<paper-material elevation="1">	
<h1></h1>

</paper-material>	


		
</template>
<script>
Polymer({
	is: 'mmrds-infant_birth_certificate_detail',
	properties: 
	{
		active: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
		home_record: 
		{ 
			type: Object,
			notify: true
		},
		bound_data: 
		{ 
			type: Object,
			notify: true
		},
		current_index: 
		{
			type: Number,
			observer: 'current_index_changed'
		},
		selected_item:
		{
			type: Object,
			notify: true
		}
	},
	current_index_changed: function(index)
	{
		if(index)
		{
			this.selected_item = this.bound_data[index];
		}
	},
	addNewRecord: function()
	{
		var new_array = [];
		
		for(var i in this.causes_of_fetal_death)
		{
			new_array.push(this.causes_of_fetal_death[i])
		}

		new_array.push({ cause_type:"", class:"", complication:"", subclass:"", other:"", icd_code:"" });
		
		this.set("causes_of_fetal_death", new_array);
	},
	listeners: 
	{
		'ancodr.tap': 'addNewRecord'
	}
  });
  
  
</script>
	
</dom-module>