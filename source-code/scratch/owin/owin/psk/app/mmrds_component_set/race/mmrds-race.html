<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<dom-module id="mmrds-race">
<template>  
<paper-material elevation="1">			
	<h1>[[label]]</h1>
	<div id="selected_label"></div>
	<h2>Race (multi-selectable - select all that apply)*</h2>
	<paper-listbox  id="race_listbox" multi  selected-values="{{bound_data}}" attr-for-selected="value" iron-select="_selectionChanged">
			<paper-item value="White">White</paper-item>
			<paper-item value="Black">Black</paper-item>
			<paper-item value="Ameican Indian/AK Native">Ameican Indian/AK Native</paper-item>
			<paper-item value="Native Hawaiian">Native Hawaiian</paper-item>
			<paper-item value="Guamanian or Chamorro">Guamanian or Chamorro</paper-item>
			<paper-item value="Samoan">Samoan</paper-item>
			<paper-item value="Other Pacific Islander">Other Pacific Islander</paper-item>
			<paper-item value="Asian Indian">Asian Indian</paper-item>
			<paper-item value="Filipino">Filipino</paper-item>
			<paper-item value="Korean">Korean</paper-item>
			<paper-item value="Other Asian">Other Asian</paper-item>
			<paper-item value="Chinese">Chinese</paper-item>
			<paper-item value="Japanese">Japanese</paper-item>
			<paper-item value="Vietnamese">Vietnamese</paper-item>
			<paper-item value="Other race">Other race</paper-item>
			<paper-item value="Race not specified">Race not specified</paper-item>
	</paper-listbox>
</paper-material>	
</template>
<script>
	Polymer({
        is: 'mmrds-race',
		properties: 
		{
			label: { type: String, value: 'label' },
			bound_data: 
			{ 
				type: Object,
				notify: true,
				observer: '_selectionChanged'
			}
		},
		_selectionChanged: function()
		{
			//console.log('mmrds-race._selectedLabelChanged ');
			//console.log(v);
			//console.log(v[0].innerText);

			var result = [];
			var pList = this.$.race_listbox.items;
			for(var i in pList)		
			{
				var selected_item = pList[i].innerText;
				if(this.bound_data.indexOf(selected_item) > -1)
				{
					result.push(selected_item);
				}
			}
			
			var selection = '' + result.join(', ');
			this.$.selected_label.innerText = selection;
		}
      });
</script>
	
</dom-module>