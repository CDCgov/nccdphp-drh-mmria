<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../mmrds-state-dropdown/mmrds-state-dropdown.html">
<link rel="import" href="../mmrds-address/mmrds-address.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<dom-module id="mmrds-death_certificate">
		
	
	<template>  

		<paper-material elevation="1">			
			<h1>Death Certificate</h1>
			<div>Record Id: {{home_record.record_id }}</div>
			<div><paper-checkbox value="{{home_record.is_valid_maternal_mortality_record }}">is a valid record</paper-checkbox></div>
			<div>Name: {{home_record.last_name }}, {{home_record.first_name }}</div>
		</paper-material>	
		

	<mmrds-address label="Place of last residence"></mmrds-address>	

	<paper-material elevation="1">			
		<h1>Demographics</h1>
		<paper-input label="Date of birth* (YYYY-MM-DD)"></paper-input>
		<paper-checkbox>Date of birth is estimated?</paper-checkbox>
		<paper-input label="Age at death*"></paper-input>
		<paper-dropdown-menu label="Marital status*">
			<paper-listbox class="dropdown-content">
				<paper-item>Married</paper-item>
				<paper-item>Married, but separated</paper-item>
				<paper-item>Widowed</paper-item>
				<paper-item>Divorced</paper-item>
				<paper-item>Never Married</paper-item>
				<paper-item>Unknown</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		
		<paper-input label="City of birth (US)"></paper-input>
		<paper-input label="State of birth (US)"></paper-input>
		<paper-input label="Country (if foriegn born)*"></paper-input>
		<paper-input label="Primary occupation"></paper-input>
		<paper-input label="Business/ Industry"></paper-input>
		<paper-dropdown-menu label="Ever in US armed forces?">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="Hispanic origin?*">
			<paper-listbox class="dropdown-content">
				<paper-item>No, not Spanish/ Hispanic/ Latino</paper-item>
				<paper-item>Yes, Mexican, Mexican American, Chicano</paper-item>
				<paper-item>Yes, Puerto Rican</paper-item>
				<paper-item>Yes, Cuban</paper-item>
				<paper-item>Yes, other Spanish/ Hispanic/ Latino</paper-item>
				<paper-item>Yes, origin unknown</paper-item>
				<paper-item>Not specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		
		
		<paper-dropdown-menu label="Education*">
			<paper-listbox class="dropdown-content">
				<paper-item>8th grade or less</paper-item>
				<paper-item>9th-12th grade; no diploma</paper-item>
				<paper-item>High School grad or GED completed</paper-item>
				<paper-item>Some college; no degree</paper-item>
				<paper-item>Associate degree</paper-item>
				<paper-item>Bachelor's degree</paper-item>
				<paper-item>Master's degree</paper-item>
				<paper-item>Doctorate or Professional degree</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
	</paper-material>	
	

	<paper-material elevation="1">	
	<h1>Race (check or enter all that apply)*</h1>
	<paper-checkbox>White</paper-checkbox>
	<paper-checkbox>Black</paper-checkbox>
	<paper-checkbox>Ameican Indian/AK Native</paper-checkbox>
	<paper-checkbox>Native Hawaiian</paper-checkbox>
	<paper-checkbox>Guamanian or Chamorro</paper-checkbox>
	<paper-checkbox>Samoan</paper-checkbox>
	<paper-checkbox>Other Pacific Islander</paper-checkbox>
	<paper-checkbox>Asian Indian</paper-checkbox>
	<paper-checkbox>Filipino</paper-checkbox>
	<paper-checkbox>Korean</paper-checkbox>
	<paper-checkbox>Other Asian</paper-checkbox>
	<paper-checkbox>Chinese</paper-checkbox>
	<paper-checkbox>Japanese</paper-checkbox>
	<paper-checkbox>Vietnamese</paper-checkbox>
	<paper-checkbox>Other race</paper-checkbox>
	<paper-checkbox>Race not specified</paper-checkbox>
	</paper-material>	
	
	
	<paper-material elevation="1">	
		<h1>Injury associated information (optional)</h1>
		<paper-input label="Date of injury (YYYY-MM-DD)"></paper-input>
		<paper-input label="Time of injury"></paper-input>
		<paper-input label="Place of injury (Place name, if applicable)"></paper-input>
		<paper-dropdown-menu label="Was injury at work?">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="Transportaion related injury?">
			<paper-listbox class="dropdown-content">
				<paper-item>Driver/Operator</paper-item>
				<paper-item>Passenger</paper-item>
				<paper-item>Pedestrian</paper-item>
				<paper-item>
					<paper-input label="Other (specify)"></paper-input>
				</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		

		<paper-dropdown-menu label="Were seat belts in use?">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Not available</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
	</paper-material>	
	
	<mmrds-address label="Location where injury occured"></mmrds-address>	
		
	<paper-material elevation="1">	
		<h1>Death information</h1>		
		<paper-dropdown-menu label="If death occured in hospital:*">
			<paper-listbox class="dropdown-content">
				<paper-item>Inpatient</paper-item>
				<paper-item>Outpatient/ ER</paper-item>
				<paper-item>Dead on arrival</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="If death not in a hospital:*">
			<paper-listbox class="dropdown-content">
				<paper-item>Hospice</paper-item>
				<paper-item>Nursing home/ LTC</paper-item>
				<paper-item>Home</paper-item>
				<paper-item><paper-input label="Other (specifiy)"></paper-input></paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>

		<paper-dropdown-menu label="Manner of Death*">
			<paper-listbox class="dropdown-content">
				<paper-item>Natural</paper-item>
				<paper-item>Accident</paper-item>
				<paper-item>Suicide</paper-item>
				<paper-item>Self-inflicted</paper-item>
				<paper-item>Homocide</paper-item>
				<paper-item>Pending investigation</paper-item>
				<paper-item>Could not be determined</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		

		<paper-dropdown-menu label="Was autopsy performed?*">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="Was autopsy used for death coding?*">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="Pregnancy status*">
			<paper-listbox class="dropdown-content">
				<paper-item>Not pregnant within last year</paper-item>
				<paper-item>Pregnant at the time of death</paper-item>
				<paper-item>Pregnant within 42 days of death</paper-item>
				<paper-item>Pregnant 43 to 365 days of death</paper-item>
				<paper-item>Unkown if pregant in last year</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>
		
		<paper-dropdown-menu label="Did Tobacco contribute to death?">
			<paper-listbox class="dropdown-content">
				<paper-item>Yes</paper-item>
				<paper-item>Probably</paper-item>
				<paper-item>No</paper-item>
				<paper-item>Unkown</paper-item>
				<paper-item>Not Specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>		
		
	</paper-material>	
	
	<mmrds-address label="Location where death occured"></mmrds-address>
	
	<paper-material elevation="1">
		<paper-input label="Estimated distance (miles) between residence and place of death*"></paper-input>
		<paper-button raised>Calculate distance</paper-button>
	</paper-material>
	
	
	<paper-material elevation="1">
	<h1>Causes of Death (enter Underlying cause first)</h1>
	<paper-input label="ICD Version"></paper-input>
	<table>
	<tr>
	<th>Type*</th>
	<th>Cause (descriptive)*</th>
	<th>ICD Code</th>
	<th>Interval</th>
	<th>Unit</th>
	</tr>
	<tr>
	<td>		
		<paper-dropdown-menu label="type*">
			<paper-listbox class="dropdown-content">
				<paper-item>Immediate</paper-item>
				<paper-item>Contributing</paper-item>
				<paper-item>Underlying</paper-item>
				<paper-item>Other significant</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>	
	</td>
	<td>
		<paper-input label="Cause (descriptive)*"></paper-input>
	</td>
	<td>
		<paper-input label="ICD code"></paper-input>
	</td>
	<td>
		<paper-input label="Interval"></paper-input>
	</td>
	<td>
		<paper-dropdown-menu label="Unit">
			<paper-listbox class="dropdown-content">
				<paper-item>Minute(s)</paper-item>
				<paper-item>Hour(s)</paper-item>
				<paper-item>Day(s)</paper-item>
				<paper-item>Week(s)</paper-item>
				<paper-item>Month(s)</paper-item>
				<paper-item>Year(s)</paper-item>
				<paper-item>Not specified</paper-item>
			</paper-listbox>
		</paper-dropdown-menu>	
	</td>
	</tr>
	</table>
	</paper-material>
	
	<paper-material elevation="1">
	
	<paper-input label="Reviewer's notes about the Death Certificate"></paper-input>
	</paper-material>
	
	</template>
	<script>
	Polymer({
        is: 'mmrds-death_certificate',
		properties: 
		{
			home_record: { type: Object
				},
				current_record_id: { 
					type: String,
					notify: true,
					observer: 'currentRecordChange'
				
				}
		},
		currentRecordChange:function() 
		{
			  var found_index = -1;
			  for(var i = 0; i < g_data.length; i++)
			  {
				if(g_data[i]._id == this.current_record_id)
				{
					found_index = i;
					break;
				}
			  }
			  
			  if(found_index > -1)
			  {
				this.home_record = g_data[found_index];
			  }
			  else if(g_data.length > 0)
			  {
				this.home_record = g_data[0];
			  }

			//console.log('currentRecordChange: ' + this.current_record_id);
			//console.log('home_record: ' + this.home_record);
		}

      });
	  
	</script>
	
</dom-module>