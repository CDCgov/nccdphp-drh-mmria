@using System.Security.Claims;
@{
  Layout = "_LayoutBase";
  var userName = "";
  if (User.Identities.Any(u => u.IsAuthenticated))
  {
    userName = User.Identities.First(
        u => u.IsAuthenticated && 
        u.HasClaim(c => c.Type == ClaimTypes.Name)).FindFirst(ClaimTypes.Name).Value;
  }
}

@section HeadScripts {
  <script src="../scripts/d3/d3.min.js" type="text/javascript"></script>
  <script src="../scripts/d3/c3.min.js" type="text/javascript"></script>
  <script src="../scripts/aggregate-report/index.js" type="text/javascript"></script>
  <script src="../scripts/aggregate-report/navigation_renderer.js" type="text/javascript"></script>
  <script src="../scripts/aggregate-report/aggregate_report_renderer.js" type="text/javascript"></script>
  <script src="../scripts/mmria.js" type="text/javascript"></script>
  <script>
    var g_uid = '@userName';
  </script>
}

<div class="row">
  <div class="app-content col">
    
    <h1 class="h2">Aggregate Report</h1>
    <p CLASS="mb-4">Contact <a href="mailto:mmriasupport@cdc.gov">mmriasupport@cdc.gov</a> with feedback or questions.</p>
    <table border="1">
      <tr>
        <td colspan="3" align="right">Year</td>
      </tr>

      <tr>
        <td>
          <label for="year_of_death">Year of Death</label>
        </td>
        <td colspan="2" align="right">
          <select id="year_of_death">
            <option>All</option>
            <option>2020</option>
            <option>2019</option>
            <option>2018</option>
            <option>2017</option>
            <option>2016</option>
            <option>2015</option>
            <option>2014</option>
            <option>2013</option>
            <option>2012</option>
            <option>2011</option>
            <option>2010</option>
            <option>2009</option>
            <option>2008</option>
            <option>2007</option>
            <option>2006</option>
            <option>2005</option>
            <option>2004</option>
            <option>2003</option>
            <option>2002</option>
            <option>2001</option>
            <option>2000</option>
            <option>1999</option>
        </select>
        </td>
      </tr>

      <tr>
        <td colspan="3">&nbsp;</td>
      </tr>

      <tr>
        <td>&nbsp;</td>
        <td><label for="month_of_case_review">month</label></td>
        <td><label for="year_of_case_review">year</label></td>
      </tr>
      
      <tr>
        <td>Date of Case Review</td>
        <td>
          <select id="month_of_case_review">
            <option>All</option>
            <option>01</option>
            <option>02</option>
            <option>03</option>
            <option>04</option>
            <option>05</option>
            <option>06</option>
            <option>07</option>
            <option>08</option>
            <option>09</option>
            <option>10</option>
            <option>11</option>
            <option>12</option>
        </select>
          </td>
          <td> 
          <select id="year_of_case_review">
            <option>All</option>
            <option>2020</option>
            <option>2019</option>
            <option>2018</option>
            <option>2017</option>
            <option>2016</option>
            <option>2015</option>
            <option>2014</option>
            <option>2013</option>
            <option>2012</option>
            <option>2011</option>
            <option>2010</option>
            <option>2009</option>
            <option>2008</option>
            <option>2007</option>
            <option>2006</option>
            <option>2005</option>
            <option>2004</option>
            <option>2003</option>
            <option>2002</option>
            <option>2001</option>
            <option>2000</option>
            <option>1999</option>
        </select>
        </td>
      </tr>

      <tr>
        <td colspan="3">&nbsp;</td>
      </tr>
      <tr>
        <td colspan="3" align=right>
          <input type="button" id="generate_report_button" value="generate report" onclick="generate_report_click()"/>
        </td> 
      </tr>
    </table>

    <div id="report_output_id"></div>

  </div>
</div>
