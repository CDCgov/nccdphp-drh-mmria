@model List<mmria.server.utils.SessionSummaryItem>
@{
    Layout = "_LayoutBase";
    ViewBag.BreadCrumbs = true;
    var total = new mmria.server.utils.SessionSummaryItem();

    int column_count = 0;

    int minus_download_columns = 0;

    Dictionary<string,int> totals = new ();

    foreach (var item in Model)
    {
        totals.Add(item.host_name, 0);
        column_count++;
    }


    minus_download_columns = column_count + 2;

    int bottom_line_total = 0;

}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="description" content="The Maternal Mortality Review Information App (MMRIA) is a public health software tool created to collect, store, analyze and summarize information relevant to maternal deaths. The MMRIA serves 2 purposes: first to provide complete, detailed, and organized medical and social information that can be used by medical review committees to investigate individual maternal deaths; and second to provide a standardized cumulative database for future research and analysis on maternal mortality.">
<title>Maternal Mortality Review Information App | Public Health | MMRIA</title>
</head>
<body>


<h1>MMRIA Session Activity Report For Last 30 days</h1>

<table border=1>
@*<tr>
    <td colspan=@minus_download_columns><b>Download </b><a href="jurisdictionSummary/GenerateReport" target="_report" >Excel</a></td>
</tr>*@
<thead>
<tr>
    <th>#</th>
    @foreach (var item in Model)
    {
        <th>@item.host_name</th>
    }
    <th>total</th>
</tr>
</thead>

@for(var _index = 0; _index < 30 && _index < Model[0].rpt_date.Count; _index++)
{
    var line_total = 0; 
    <tr>
        <td>@_index</td>

        @foreach (var item in Model)
        {   
            line_total += item.rpt_date[_index];
            totals[item.host_name]+= item.rpt_date[_index];
            <td align=right>@item.rpt_date[_index]</td>
        }
        <td align=right>@line_total</td>
    </tr>
}

<tr>
    <th>&nbsp;</th>
    @foreach (var item in Model)
    {
        <th>@item.host_name</th>
    }
    <th>&nbsp;</th>
</tr>
<tr>
    <td><b>Total</b></td>

    @foreach (var item in Model)
    {   
        bottom_line_total += totals[item.host_name];
        <td align=right>@totals[item.host_name]</td>
    }
    <td align=right>@bottom_line_total</td>
</tr>


</table>

</body>
</html>
