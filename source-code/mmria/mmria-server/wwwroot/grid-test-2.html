<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="The Maternal Mortality Review Information App (MMRIA) is a public health software tool created to collect, store, analyze and summarize information relevant to maternal deaths. The MMRIA serves 2 purposes: first to provide complete, detailed, and organized medical and social information that can be used by medical review committees to investigate individual maternal deaths; and second to provide a standardized cumulative database for future research and analysis on maternal mortality.">
<title>Maternal Mortality Review Information App | Public Health | MMRIA</title>

<LINK href="./styles/bootstrap/bootstrap.min.css" type="text/css" rel="stylesheet" />
<link href="./styles/jquery/jquery.timepicker.css" type="text/css" rel="stylesheet" />
<link href="./styles/jquery/jquery.datetimepicker.css" type="text/css" rel="stylesheet" />
<link href="./styles/bootstrap/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet"/>
<link href="./styles/bootstrap/jquery.bootstrap-touchspin.min.css" type="text/css" rel="stylesheet"/>
<link href="./styles/flatpickr/flatpickr.min.css" type="text/css" rel="stylesheet" />
<link href="./styles/d3/c3.min.css" type="text/css" rel="stylesheet" />
<!--LINK href="./styles/styles.css" type="text/css" rel="stylesheet" /-->


<!--script type=module src="./scripts/callbag/callbag-basics.min.js"></script-->

<script type=module src="./scripts/module1.js"></script>

<script>
// src="./scripts/module1.js"
//https://github.com/staltz/callbag-basics
//https://codesandbox.io/s/p5jwlp0x07
//https://github.com/callbag/callbag/wiki
//https://github.com/callbag/callbag/blob/master/getting-started.md

/*
  import { forEach, fromEvent, map, pipe, merge, scan };// from "./scripts/callbag/callbag-basics.min.js";
  import startWith from "callbag-start-with";
  //console.clear()
  console.log("Module is initialized!");

  document.querySelector("#app").innerHTML = `
    <input id="input"/>
    <button id="button">Reverse</button>
    <div id="output"/>
  `;

  const input = document.querySelector("#input");
  const button = document.querySelector("#button");

  //each event maps to a reducer
  const setText = event => (prev, curr) => event.target.value;
  const inputs = pipe(fromEvent(input, "input"), map(setText));

  const reverse = prev =>
    prev
      .split("")
      .reverse()
      .join("");
  const clicks = pipe(fromEvent(button, "click"), map(event => reverse));

  const events = merge(clicks, inputs);
  const source = pipe(events, startWith(() => "Type or Click"), scan((prev, fn) => fn(prev), ""));

  const out = string =>
    document.querySelector("#output").innerHTML = `<div>${string}</div>`;

  forEach(out)(source);
*/
</script>
<script>

function main()
{
  /*
  document.querySelector("#app").innerHTML = `
    <input id="input"/>
    <button id="button">Reverse</button>
    <div id="output"/>
  `;

  const input = document.querySelector("#input");
  const button = document.querySelector("#button");

  //each event maps to a reducer
  const setText = event => (prev, curr) => event.target.value;
  const inputs = pipe(fromEvent(input, "input"), map(setText));

  const reverse = prev =>
    prev
      .split("")
      .reverse()
      .join("");
  const clicks = pipe(fromEvent(button, "click"), map(event => reverse));

  const events = merge(clicks, inputs);
  const source = pipe(events, startWith(() => "Type or Click"), scan((prev, fn) => fn(prev), ""));

  const out = string =>
    document.querySelector("#output").innerHTML = `<div>${string}</div>`;

  forEach(out)(source);  
  */
}
  
</script>
</head>
<body onload="//main()">
    <div id="app">bubba</div>

</body>
</html>
